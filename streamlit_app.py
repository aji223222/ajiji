import streamlit as st
import pandas as pd

# ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ï¼ˆä»Šå›žã¯ãƒ€ãƒŸãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼‰
data = {
    'ã‚¿ã‚¤ãƒˆãƒ«': ['The Last of Us Part I', 'God of War RagnarÃ¶k', 'ELDEN RING', 'Marvel\'s Spider-Man 2', 'FINAL FANTASY VII REBIRTH'],
    'ã‚¸ãƒ£ãƒ³ãƒ«': ['ã‚¢ã‚¯ã‚·ãƒ§ãƒ³', 'ã‚¢ã‚¯ã‚·ãƒ§ãƒ³RPG', 'ã‚¢ã‚¯ã‚·ãƒ§ãƒ³RPG', 'ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼', 'RPG'],
    'è©•ä¾¡': [96, 94, 95, 90, 92],
    'ãƒ—ãƒ¬ã‚¤æ™‚é–“(h)': [15, 25, 60, 15, 40]
}
df = pd.DataFrame(data)

st.title('ðŸŽ® PlayStationã‚²ãƒ¼ãƒ ãŠã™ã™ã‚ã‚¢ãƒ—ãƒª')
st.write('ã‚ãªãŸã®å¥½ã¿ã«åˆã‚ã›ã¦ã€ãŠã™ã™ã‚ã®PlayStationã‚½ãƒ•ãƒˆã‚’ææ¡ˆã—ã¾ã™ã€‚')

st.header('1. ã‚²ãƒ¼ãƒ ã®å¥½ã¿ã‚’æ•™ãˆã¦ãã ã•ã„')

# ã‚¸ãƒ£ãƒ³ãƒ«ã®é¸æŠž
genre_list = df['ã‚¸ãƒ£ãƒ³ãƒ«'].unique()
selected_genre = st.selectbox('å¥½ããªã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸ã‚“ã§ãã ã•ã„', genre_list)

# è©•ä¾¡ã®é¸æŠž
min_rating = st.slider('æœ€ä½Žè©•ä¾¡ï¼ˆãƒ¡ã‚¿ã‚¹ã‚³ã‚¢ï¼‰', 80, 100, 90)

# ãƒ—ãƒ¬ã‚¤æ™‚é–“ã®é¸æŠž
max_playtime = st.slider('æœ€å¤§ãƒ—ãƒ¬ã‚¤æ™‚é–“ï¼ˆæ™‚é–“ï¼‰', 10, 100, 30)

# ãŠã™ã™ã‚ã‚’ææ¡ˆã™ã‚‹ãƒœã‚¿ãƒ³
if st.button('ãŠã™ã™ã‚ã®ã‚²ãƒ¼ãƒ ã‚’ææ¡ˆã™ã‚‹'):
    st.header('2. ã‚ãªãŸã¸ã®ãŠã™ã™ã‚')
    
    # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é¸æŠžã«åŸºã¥ã„ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
    filtered_df = df[
        (df['ã‚¸ãƒ£ãƒ³ãƒ«'] == selected_genre) &
        (df['è©•ä¾¡'] >= min_rating) &
        (df['ãƒ—ãƒ¬ã‚¤æ™‚é–“(h)'] <= max_playtime)
    ]

    # çµæžœã®è¡¨ç¤º
    if not filtered_df.empty:
        st.write('ä»¥ä¸‹ã®ã‚²ãƒ¼ãƒ ãŒãŠã™ã™ã‚ã§ã™ã€‚')
        st.table(filtered_df)
    else:
        st.write('æ¡ä»¶ã«åˆã†ã‚²ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚åˆ¥ã®æ¡ä»¶ã‚’è©¦ã—ã¦ãã ã•ã„ã€‚')

st.sidebar.markdown("""
---
### ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦
ã“ã®ã‚¢ãƒ—ãƒªã¯Streamlitã¨Pythonã‚’ä½¿ã£ã¦ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚
ãƒ‡ãƒ¼ã‚¿ã¯æž¶ç©ºã®ã‚‚ã®ã§ã™ã€‚
""")